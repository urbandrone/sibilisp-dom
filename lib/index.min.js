!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).DOM={})}(this,(function(t){"use strict";var n=" guards agains (nil) and (void) values, got",r=" expects argument 1 to be a ",e=" expects argument 2 to be a ",o=function(t){return t},u=function(t){return null==t?"(nil)":Number.isNaN(t)?"(nan)":Error.prototype.isPrototypeOf(t)?"(error "+t.name+": "+t.message+")":"string"==typeof t?"(string "+t+")":"number"!=typeof t||Number.isNaN(t)?"function"==typeof t?"(function "+(t.name||"lambda")+")":null!=t&&t.constructor===GeneratorFunction?"(generator "+t.name+")":Array.isArray(t)?"(list"+t.reduce((function(t,n){return t+" "+u(n)}),"")+")":null!=t&&t.constructor===Set?"(mset"+Array.from(t).reduce((function(t,n){return t+" "+u(n)}),"")+")":null!=t&&t.constructor===Object?"(hash"+Object.entries(t).reduce((function(t,n){var r=n[0],e=n[1];return t+" :"+r+" "+u(e)}),"")+")":null!=t&&t.constructor===Map?"(dict"+t.entries().reduce((function(t,n){var r=n[0],e=n[1];return t+" :"+u(r)+" "+u(e)}),"")+")":null!=t&&t.constructor===Promise?"(future)":null!=t&&t.constructor===Date?"(date"+t.getFullYear()+"-"+(1+t.getMonth())+"-"+t.getDate()+")":null!=t&&t.constructor===RegExp?"(regex "+t.source+" :flags "+t.flags+")":t.toString():"(number "+t+")"},c=function(t,n){return null===t?null===n:void 0===t?void 0===n:"string"==typeof t&&"string"==typeof n||"function"==typeof t&&"function"==typeof n?t===n:"number"!=typeof t||Number.isNaN(t)||"number"!=typeof n||Number.isNaN(n)?null!=t&&t.constructor===RegExp&&null!=n&&n.constructor===RegExp?t.source===n.source&&t.flag===n.flag:null!=t&&t.constructor===Date&&null!=n&&n.constructor===Date?Number(t)===Number(n):null!=t&&t.constructor===GeneratorFunction&&null!=n&&n.constructor===GeneratorFunction||null!=t&&t.constructor===Promise&&null!=n&&n.constructor===Promise?t===n:Array.isArray(t)&&Array.isArray(n)?t.length===n.length&&t.every((function(t,r){return c(t,n[r])})):null!=t&&t.constructor===Set&&null!=n&&n.constructor===Set?t.size()===n.size()&&c(Array.from(t),Array.from(n)):null!=t&&t.constructor===Object&&null!=n&&n.constructor===Object?(r=Object.entries(t),e=Object.entries(n),r.length===e.length&&r.every((function(t){var r=t[0],e=t[1];return c(e,n[r])}))):null!=t&&t.constructor===Map&&null!=n&&n.constructor===Map?function(t,r){return t.length===r.length&&t.every((function(t){var r=t[0],e=t[1];return c(e,n.get(r))}))}(Array.from(t.entries()),Array.from(n.entries())):"function"==typeof t.equals&&t.equals(n):t===n;var r,e},f=function(t,r){return null==t?function(){throw new Error("(reduce)"+n+u(t))}.call(this):"function"!=typeof r?function(){throw new Error("(fold-map)"+e+"function, got "+u(r))}.call(this):null!=t&&t.constructor===Set?Array.from(t.values()).reduce((function(t,n){return null===t?r(n):t.concat(r(n))}),null):"function"==typeof t.reduce?t.reduce((function(t,n){return null===t?r(n):t.concat(r(n))}),null):function(){throw new Error("(fold-map) needs the first argument to be a Foldable")}.call(this)},a=function(t,n){return Array.isArray(t)||null!=t&&t.constructor===Set?"number"!=typeof n||Number.isNaN(n)?function(){throw new Error("(partition)"+e+"number, got "+u(n))}.call(this):Array.isArray(t)?function(r){return function(){for(var e=void 0;i<l;)e=function(){return e=t.slice(i,n),r.push(e),i+=n;var e}.call(this);return e}.call(this),r}(l(t.length)):function(t,r,e,o){return function(){for(var u=void 0;e<o;)u=function(){return o=t.slice(e,n),r.push(o),e+=n;var o}.call(this);return u}.call(this),new Set(r)}(Array.from(t),[],0,xs.length):function(){throw new Error("(partition)"+r+"list or mset, got "+u(t))}.call(this)},s=function(){function t(n,r){var e=Object.create(t.prototype),o=arguments.length;return function(){if(2!==o)return function(){throw new Error("coyo received invalid number of arguments.")}.call(this)}.call(this),e.value=n,e.mapper=r,e}return t.is=function(n){return n instanceof t},t}.call(void 0);s.of=function(t){return s(t,o)},s.lift=function(t){return null==t?function(){throw new Error("(coyo.lift)"+n+t)}.call(this):s.of(t)},s.prototype.toString=function(){return t=this.value,n=this.mapper,"(coyo "+u(t)+" "+u(n)+")";var t,n},s.prototype.map=function(t){return"function"!=typeof t?function(){throw new Error("(coyo.map)"+r+"function, got "+u(t))}.call(this):(n=this.value,e=this.mapper,s(n,(function(n){return t(e(n))})));var n,e},s.prototype.lower=function(){return function(t,n){return"function"!=typeof t?function(){throw new Error("(coyo.lower) requires the coyo:mapper property\n                   to hold a function, but it holds "+u(t))}.call(this):null==n?function(){throw new Error("(coyo.lower) requires the coyo:value property\n                   to hold a non (void) or (nil) value, but it holds "+u(n))}.call(this):"function"!=typeof n.map?function(){throw new Error("(coyo.lower) requires the coyo:value property\n                   to implement the functor typeclass but it doesn't")}.call(this):s(n.map(t),o)}(this.mapper,this.value)},s.prototype.reduce=function(t,n){return function(o,i){return"function"!=typeof t?function(){throw new Error("(coyo.reduce)"+r+"function, got "+u(t))}.call(this):void 0===n?function(){throw new Error("(coyo.reduce)"+e+"non (void) value, got "+u(n))}.call(this):"function"==typeof o.reduce?o.reduce((function(n,r){return t(n,i(r))}),n):t(n,i(o))}(this.value,this.mapper)};var p=function(){function t(n){var r=Object.create(t.prototype),e=arguments.length;return function(){if(1!==e)return function(){throw new Error("io received invalid number of arguments.")}.call(this)}.call(this),r.unsafePerform=n,r}return t.is=function(n){return n instanceof t},t}.call(void 0);p.of=function(t){return p((function(){return t}))},p.lift=function(t){return null==t?function(){throw new Error("(io.lift)"+n+t)}.call(this):p.of(t)},p.empty=function(){return p((function(t){return t}))},p.identity=p.empty,p.prototype.toString=function(){return t=this.unsafePerform,u(t),")";var t},p.prototype.equals=function(t){return t instanceof p?this.unsafePerform===t.unsafePerform:function(){throw new Error("(io.equals)"+r+"io, got "+u(t))}.call(this)},p.prototype.concat=function(t){return t instanceof p?(n=this.unsafePerform,e=t.unsafePerform,p((function(t){return e(n(t))}))):function(){throw new Error("(io.concat)"+r+"io, got "+u(t))}.call(this);var n,e},p.prototype.map=function(t){return"function"!=typeof t?function(){throw new Error("(io.map)"+r+"function, got "+u(t))}.call(this):(n=this.unsafePerform,p((function(r){return t(n(r))})));var n},p.prototype.contramap=function(t){return"function"!=typeof t?function(){throw new Error("(io.contramp)"+r+"function, got "+u(t))}.call(this):(n=this.unsafePerform,p((function(r){return n(t(r))})));var n},p.prototype.promap=function(t,n){return"function"!=typeof t?function(){throw new Error("(io.promap)"+r+"function, got "+u(t))}.call(this):"function"!=typeof n?function(){throw new Error("(io.promap)"+e+"function, got "+u(n))}.call(this):(o=this.unsafePerform,p((function(r){return n(o(t(r)))})));var o},p.prototype.ap=function(t){return t instanceof p?(n=this.unsafePerform,t.map(n)):function(){throw new Error("(io.ap)"+r+"io, got "+u(t))}.call(this);var n},p.prototype.flatMap=function(t){return"function"!=typeof t?function(){throw new Error("(io.flat-map | io.chain)"+r+"io returning function, got "+u(t))}.call(this):(n=this.unsafePerform,p((function(r){return t(n(r)).unsafePerform(r)})));var n},p.prototype.chain=p.prototype.flatMap,p.prototype.compose=function(t){return t instanceof p?(n=this.unsafePerform,e=t.unsafePerform,p((function(t){return e(n(t))}))):function(){throw new Error("(io.compose)"+r+"io, got "+u(t))}.call(this);var n,e},p.prototype.runIo=function(t){return this.unsafePerform(t)};var h=function(){var t=Object.create(null);return t.prototype={__sibilispType__:t},t.nothing=function n(){var r=Object.create(t.prototype),e=arguments.length;return function(){if(0!==e)return function(){throw new Error("Tagged constructor "+h+"."+n+"expects 0 arguments but got "+e)}.call(this)}.call(this),r.constructor=n,r.__sibilispTags__=[],r},t.just=function n(r){var e=Object.create(t.prototype),o=arguments.length;return function(){if(1!==o)return function(){throw new Error("Tagged constructor "+h+"."+n+"expects 1 arguments but got "+o)}.call(this)}.call(this),e.value=r,e.constructor=n,e.__sibilispTags__=["value"],e},t.prototype.match=function(t){var n=this,r=n.constructor.name,e=t[r],o=n.__sibilispTags__;return function(){return"function"==typeof e?e.apply(n,o.map((function(t){return n[t]}))):function(){throw new Error(".match :: Cannot find "+r+" in patterns "+t)}.call(this)}.call(this)},t.is=function(n){return!(null==n)&&n.__sibilispType__===t},t}.call(void 0);h.of=function(t){return h.just(t)},h.lift=function(t){return null==t?h.nothing():h.of(t)},h.empty=function(){return h.nothing()},h.zero=function(){return h.nothing()},h.prototype.toString=function(){return this.match({nothing:function(){return"(maybe.nothing)"},just:function(t){return"(maybe.just "+u(t)+")"}})},h.prototype.equals=function(t){return function(){if(!h.is(t))return function(){throw new Error("(maybe.equals)"+r+"instance of maybe, got "+u(t))}.call(this)}.call(this),this.match({nothing:function(){return t.match({nothing:function(){return!0},just:function(){return!1}})},just:function(n){return t.match({nothing:function(){return!1},just:function(t){return function(){return"function"==typeof n.equals?n.equals(t):n===t}.call(this)}})}})},h.prototype.concat=function(t){return function(){if(!h.is(t))return function(){throw new Error("(maybe.concat)"+r+"instance of maybe, got "+u(t))}.call(this)}.call(this),this.match({nothing:function(){return h.nothing()},just:function(n){return t.match({nothing:function(){return t},just:function(t){return function(r){return function(){if("function"!=typeof r)return function(){throw new Error("(maybe.concat) can only concat when both of the carried values implement the semigroup typeclass")}.call(this)}.call(this),r.call(n,t)}(n.concat)}})}})},h.prototype.map=function(t){return"function"!=typeof t?function(){throw new Error("(maybe.map)"+r+"function, got "+u(t))}.call(this):this.match({nothing:function(){return h.nothing()},just:function(n){return h.lift(t(n))}})},h.prototype.ap=function(t){return function(){if(!h.is(t))return function(){throw new Error("(maybe.ap)"+r+"instance of maybe, got "+u(t))}.call(this)}.call(this),this.match({nothing:function(){return h.nothing()},just:function(n){return t.map(n)}})},h.prototype.flatMap=function(t){return"function"!=typeof t?function(){throw new Error("(maybe.flat-map|maybe.chain)"+r+"function, got "+u(t))}.call(this):this.match({nothing:function(){return h.nothing()},just:function(n){return t(n)}})},h.prototype.chain=h.prototype.flatMap,h.prototype.bimap=function(t,n){return"function"!=typeof t?function(){throw new Error("(maybe.bimap)"+r+"function, got "+u(t))}.call(this):"function"!=typeof n?function(){throw new Error("(maybe.bimap)"+e+"function, got "+u(n))}.call(this):this.match({nothing:function(){return t()},just:function(t){return n(t)}})},h.prototype.alt=function(t){return h.is(t)?this.match({nothing:function(){return t},just:function(t){return h.just(t)}}):function(){throw new Error("(maybe.alt)"+r+"instance of maybe, got "+u(t))}.call(this)},h.prototype.reduce=function(t,n){return"function"!=typeof t?function(){throw new Error("(maybe.reduce)"+r+"function, got "+u(t))}.call(this):void 0===n?function(){throw new Error("(maybe.reduce)"+e+"non (void) value, got "+u(n))}.call(this):this.match({nothing:function(){return n},just:function(r){return t(n,r)}})},h.prototype.traverse=function(t,n){return"function"!=typeof t?function(){throw new Error("(maybe.traverse)"+r+"function, got "+u(t))}.call(this):not?"function"==typeof n:this.match({nothing:function(){return t(h.nothing())},just:function(t){return n(t).map(h.of)}})},h.prototype.sequence=function(t){return"function"!=typeof t?function(){throw new Error("(maybe.sequence)"+r+"function, got "+u(t))}.call(this):this.traverse(t,o)};var y=function(){var t=Object.create(null);return t.prototype={__sibilispType__:t},t.left=function n(r){var e=Object.create(t.prototype),o=arguments.length;return function(){if(1!==o)return function(){throw new Error("Tagged constructor "+y+"."+n+"expects 1 arguments but got "+o)}.call(this)}.call(this),e.error=r,e.constructor=n,e.__sibilispTags__=["error"],e},t.right=function n(r){var e=Object.create(t.prototype),o=arguments.length;return function(){if(1!==o)return function(){throw new Error("Tagged constructor "+y+"."+n+"expects 1 arguments but got "+o)}.call(this)}.call(this),e.value=r,e.constructor=n,e.__sibilispTags__=["value"],e},t.prototype.match=function(t){var n=this,r=n.constructor.name,e=t[r],o=n.__sibilispTags__;return function(){return"function"==typeof e?e.apply(n,o.map((function(t){return n[t]}))):function(){throw new Error(".match :: Cannot find "+r+" in patterns "+t)}.call(this)}.call(this)},t.is=function(n){return!(null==n)&&n.__sibilispType__===t},t}.call(void 0);y.of=function(t){return y.right(t)},y.lift=function(t,n){return null==t?y.left(new Error("")):Error.prototype.isPrototypeOf(t)||n?y.left(t):y.of(t)},y.empty=function(){return y.right([])},y.zero=function(){return y.left(new Error("either-zero"))},y.prototype.toString=function(){return this.match({left:function(t){return"(either.left "+u(t)+")"},right:function(t){return"(either.right "+u(t)+")"}})},y.prototype.equals=function(t){return y.is(t)?this.match({left:function(){return t.match({left:function(){return!0},right:function(){return!1}})},right:function(n){return t.match({left:function(){return!1},right:function(t){return"function"==typeof n.equals?n.equals(t):n===t}})}}):function(){throw new Error("(either.equals)"+r+"instance of either, got "+u(t))}.call(this)},y.prototype.concat=function(t){return y.is(t)?this.match({left:function(t){return y.left(t)},right:function(n){return t.match({left:function(){return t},right:function(t){return function(r){return function(){if("function"!=typeof r)return function(){throw new Error("(either.concat) cannot concat when both of the carried values implement the semigroup typeclass")}.call(this)}.call(this),r.call(n,t)}(n.concat)}})}}):function(){throw new Error("(either.concat)"+r+"either, got "+u(t))}.call(this)},y.prototype.map=function(t){return"function"!=typeof t?function(){throw new Error("(either.map)"+r+"function, got "+u(t))}.call(this):this.match({left:function(t){return y.left(t)},right:function(n){return y.lift(t(n))}})},y.prototype.ap=function(t){return function(){if(!y.is(t))return function(){throw new Error("(either.ap)"+r+"instance of either, got "+u(t))}.call(this)}.call(this),this.match({left:function(t){return y.left(t)},right:function(n){return t.map(n)}})},y.prototype.flatMap=function(t){return"function"!=typeof t?function(){throw new Error("(either.flat-map|either.chain)"+r+"function, got "+u(t))}.call(this):this.match({left:function(t){return y.left(t)},right:function(n){return t(n)}})},y.prototype.chain=y.prototype.flatMap,y.prototype.bimap=function(t,n){return"function"!=typeof t?function(){throw new Error("(either.bimap)"+r+"function, got "+u(t))}.call(this):"function"!=typeof n?function(){throw new Error("(either.bimap)"+e+"function, got "+u(n))}.call(this):this.match({left:function(n){return t(n)},right:function(t){return n(t)}})},y.prototype.alt=function(t){return y.is(t)?this.match({left:function(){return t},right:function(t){return y.right(t)}}):function(){throw new Error("(either.alt)"+r+"instance of either, got "+u(t))}.call(this)},y.prototype.reduce=function(t,n){return"function"!=typeof t?function(){throw new Error("(either.reduce)"+r+"function, got "+u(t))}.call(this):void 0===n?function(){throw new Error("(either.reduce)"+e+"non (void) value, got "+u(n))}.call(this):this.match({left:function(){return n},right:function(r){return t(n,r)}})},y.prototype.traverse=function(t,n){return"function"!=typeof t?function(){throw new Error("(either.traverse)"+r+"function, got "+u(t))}.call(this):"function"!=typeof n?function(){throw new Error("(either.traverse)"+e+"function, got "+u(n))}.call(this):this.match({left:function(n){return t(y.left(n))},right:function(t){return n(t).map(y.of)}})},y.prototype.sequence=function(t){return"function"!=typeof t?function(){throw new Error("(either.sequence)"+r+"function, got "+u(t))}.call(this):this.traverse(t,o)};var m=function(){var t=Object.create(null);return t.prototype={__sibilispType__:t},t.falsy=function n(r){var e=Object.create(t.prototype),o=arguments.length;return function(){if(1!==o)return function(){throw new Error("Tagged constructor "+m+"."+n+"expects 1 arguments but got "+o)}.call(this)}.call(this),e.errors=r,e.constructor=n,e.__sibilispTags__=["errors"],e},t.truthy=function n(r){var e=Object.create(t.prototype),o=arguments.length;return function(){if(1!==o)return function(){throw new Error("Tagged constructor "+m+"."+n+"expects 1 arguments but got "+o)}.call(this)}.call(this),e.value=r,e.constructor=n,e.__sibilispTags__=["value"],e},t.prototype.match=function(t){var n=this,r=n.constructor.name,e=t[r],o=n.__sibilispTags__;return function(){return"function"==typeof e?e.apply(n,o.map((function(t){return n[t]}))):function(){throw new Error(".match :: Cannot find "+r+" in patterns "+t)}.call(this)}.call(this)},t.is=function(n){return!(null==n)&&n.__sibilispType__===t},t}.call(void 0);m.of=function(t){return m.truthy(t)},m.lift=function(t,n){return null==t||Number.isNaN(t)?m.falsy([new Error("E_NO_VALUE")]):Error.prototype.isPrototypeOf(t)||n?m.falsy([t]):m.truthy(t)},m.empty=function(){return m.truthy(!0)},m.zero=function(){return m.falsy([new Error("ProofZero")])},m.prototype.toString=function(){return this.match({truthy:function(t){return"(proof.truthy "+u(t)+")"},falsy:function(t){return"(proof.falsy "+u(t)+")"}})},m.prototype.equals=function(t){return m.is(t)?this.match({truthy:function(n){return t.match({truthy:function(t){return c(n,t)},falsy:function(){return!1}})},falsy:function(n){return t.match({truthy:function(){return!1},falsy:function(t){return n.every((function(n,r){return c(n,t[r])}))}})}}):function(){throw new Error("(proof.equals)"+r+"instance of proof, got "+u(t))}.call(this)},m.prototype.concat=function(t){return m.is(t)?this.match({truthy:function(n){return t.match({truthy:function(t){return m.truthy(t)},falsy:function(t){return m.falsy(t)}})},falsy:function(n){return t.match({truthy:function(){return m.falsy(n)},falsy:function(t){return m.falsy(n.concat(t))}})}}):function(){throw new Error("(proof.concat)"+r+"proof, got "+u(t))}.call(this)},m.prototype.map=function(t){return"function"!=typeof t?function(){throw new Error("(proof.map)"+r+"function, got "+u(t))}.call(this):this.match({truthy:function(n){return m.lift(t(n))},falsy:function(t){return m.falsy(t)}})},m.prototype.bimap=function(t,n){return"function"!=typeof t?function(){throw new Error("(proof.bimap)"+r+"function, got "+u(t))}.call(this):"function"!=typeof n?function(){throw new Error("(proof.bimap)"+e+"function, got "+u(n))}.call(this):this.match({truthy:function(t){return m.lift(n(t))},falsy:function(n){return m.falsy(n.map(t))}})},m.prototype.ap=function(t){return m.is(t)?this.match({truthy:function(n){return t.match({truthy:function(t){return m.lift(n(t))},falsy:function(t){return m.falsy(t)}})},falsy:function(n){return t.match({truthy:function(){return m.falsy(n)},falsy:function(t){return m.falsy(n.concat(t))}})}}):function(){throw new Error("(proof.ap)"+r+"proof, got "+u(t))}.call(this)},m.prototype.alt=function(t){return m.is(t)?this.match({truthy:function(t){return m.truthy(t)},falsy:function(){return t}}):function(){throw new Error("(proof.alt)"+r+"proof, got "+u(t))}.call(this)};var g=function(){function t(n){var r=Object.create(t.prototype),e=arguments.length;return function(){if(1!==e)return function(){throw new Error("task received invalid number of arguments.")}.call(this)}.call(this),r.runTask=n,r}return t.is=function(n){return n instanceof t},t}.call(void 0);g.of=function(t){return g((function(n,r){return r(t)}))},g.zero=function(t){return g((function(n){return n(Error.prototype.isPrototypeOf(t)?t:new Error("TaskZero"+t))}))},g.lift=function(t){return g((function(n,r){return null==t||Number.isNaN(t)||Error.prototype.isPrototypeOf(t)?n(t):r(t)}))},g.empty=function(){return g((function(t,n){}))},g.resolve=g.of,g.reject=g.zero,g.prototype.toString=function(){return"(task)"},g.prototype.concat=function(t){return t instanceof g?(n=this.runTask,e=t.runTask,g((function(t,r){return n((o=function(t){return function(n){return function(){if(!done)return done=!0,t(n)}.call(this)}})(t),o(r)),e(o(t),o(r));var o}))):function(){throw new Error("(task.concat)"+r+"instance of task, got "+u(t))}.call(this);var n,e},g.prototype.ap=function(t){return t instanceof g?(n=this.runTask,e=t.runTask,g((function(t,r){return n(o=function(n){return function(){if(!rejected)return rejected=!0,t(n)}.call(this)},(u=function(t){return function(n){return function(){if(!rejected)return t(n),function(){return adone&&bdone?r(aval(bval)):n}.call(this)}.call(this)}})((function(t){return t}))),e(o,u((function(t){return t})));var o,u}))):function(){throw new Error("(task.ap)"+r+"instance of task, got "+u(t))}.call(this);var n,e},g.prototype.map=function(t){return"function"!=typeof t?function(){throw new Error("(task.map)"+r+"function, got "+u(t))}.call(this):(n=this.runTask,g((function(r,e){return n(r,(function(n){return e(t(n))}))})));var n},g.prototype.flatMap=function(t){return"function"!=typeof t?function(){throw new Error("(task.flat-map)"+r+"function, got "+u(t))}.call(this):(n=this.runTask,g((function(r,e){return n(r,(function(n){return t(n).runTask(r,e)}))})));var n},g.prototype.chain=g.prototype.flatMap,g.prototype.bimap=function(t,n){return"function"!=typeof t?function(){throw new Error("(task.bimap)"+r+"function, got "+u(t))}.call(this):"function"!=typeof n?function(){throw new Error("(task.bimap)"+e+"function, got "+u(n))}.call(this):(o=this.runTask,g((function(r,e){return o((function(n){return r(t(n))}),(function(t){return e(n(t))}))})));var o},g.prototype.alt=function(t){return instanceOf(t,g)?(n=this.runTask,e=t.runTask,g((function(t,r){return n((function(){return e(t,r)}),r)}))):function(){throw new Error("(task.alt)"+r+"instance of task, got "+u(t))}.call(this);var n,e};var v=" expects argument 1 to be a ",w={animationend:AnimationEvent,animationstart:AnimationEvent,animationiteration:AnimationEvent,transitionstart:TransitionEvent,transitionend:TransitionEvent,keydown:KeyboardEvent,keypress:KeyboardEvent,keyup:KeyboardEvent,pointerover:PointerEvent,pointerenter:PointerEvent,pointerleave:PointerEvent,pointerout:PointerEvent,pointerdown:PointerEvent,pointerup:PointerEvent,pointermove:PointerEvent,pointercancel:PointerEvent,gotpointercapture:PointerEvent,lostpointercapture:PointerEvent,input:InputEvent,click:MouseEvent,dblclick:MouseEvent,mousedown:MouseEvent,mousemove:MouseEvent,mouseup:MouseEvent,mouseover:MouseEvent,mouseout:MouseEvent,mouseenter:MouseEvent,mouseleave:MouseEvent,touchstart:TouchEvent,touchmove:TouchEvent,touchend:TouchEvent,touchcancel:TouchEvent,focus:FocusEvent,blur:FocusEvent,change:Event,scroll:Event},E=function(){function t(n){var r=Object.create(t.prototype),e=arguments.length;return function(){if(1!==e)return function(){throw new Error("DOM received invalid number of arguments.")}.call(this)}.call(this),r.stack=n,r}return t.is=function(n){return n instanceof t},t}.call(void 0);E.of=function(t){t=Array.prototype.slice.call(arguments,0);return E(p.of(t))},E.lift=function(t){t=Array.prototype.slice.call(arguments,0);return E(p.of(f(t,(function(t){return null!=t&&t instanceof Node||null!=t&&t instanceof HTMLElement?[t]:Array.isArray(t)?t:null!=t&&t.constructor===NodeList||null!=t&&t.constructor===HTMLCollection?Array.from(t):[]}))))},E.empty=function(){return E(p.of([]))},E.prototype.run=function(t){t=Array.prototype.slice.call(arguments,0);return this.stack.runIo(t)},E.prototype.toIo=function(){return this.stack},E.prototype.concat=function(t){return t instanceof E?(this.stack,n=t.stack,E(n.flatMap((function(t){return n.map((function(n){return t.concat(n)}))})))):function(){throw new Error("(DOM.concat)"+v+"DOM, got "+u(t))}.call(this);var n},E.prototype.map=function(t){return"function"!=typeof t?function(){throw new Error("(DOM.map)"+v+"function, got "+u(t))}.call(this):E(this.stack.flatMap((function(n){return n.map(t)})))},E.prototype.flatMap=function(t){return"function"!=typeof t?function(){throw new Error("(DOM.flat-map/.chain)"+v+"function, got "+u(t))}.call(this):E(this.stack.map((function(n){return n.reduce((function(n,r){return n.concat(t(r).run(r))}),[])})))},E.prototype.chain=E.prototype.flatMap,E.prototype.filter=function(t){return"function"!=typeof t?function(){throw new Error("(DOM.filter)"+v+"function, got "+u(t))}.call(this):E(this.stack.map((function(n){return n.filter(t)})))},E.prototype.alt=function(t){return t instanceof E?(n=this.stack,t.stack,E(n.flatMap((function(n){return function(){return n.length>0?E.lift(n):t}.call(this)})))):function(){throw new Error("(DOM.alt)"+v+"DOM, got "+u(t))}.call(this);var n},E.prototype.reduce=function(t,n){return"function"!=typeof t?function(){throw new Error("(DOM.reduce)"+v+"function, got "+u(t))}.call(this):E(this.stack.map((function(r){var e=r.reduce(t,n);return Array.isArray(e)?e:[e]})))};var d=function(){return E.of(document)},b=function(){return d().map((function(){return arguments[0].documentElement}))},_=function(t){return function(n){return n[t]}},N=function(t){var n;t=Array.prototype.slice.call(arguments,0);return n=t.length>0?t:N.__defaults__,function(t){return n.reduce((function(n,r){return function(){return r in t?(n[r]=t[r],n):n}.call(this)}),Object.create(null))}};Object.defineProperties(N,{__defaults__:{enumerable:!0,writable:!1,configurable:!1,value:["offsetWidth","offsetHeight"]}});var A=function(t,n){return function(r){return function(e){return function(){return t<1?r.insertBefore(n,r.firstElementChild):t>=e.length?r.appendChild(n):(o=e[t],r.insertBefore(n,o));var o}.call(this),r}(r.children)}},j=function(t){return t.replace(new RegExp("\\w\\W","g"),(function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()}))},O=function(t,n){return"function"==typeof(r=w[t])?new r(t,n):new CustomEvent(t,n);var r};t.DOM=E,t.addClass__BANG=function(t){return function(n){return n.classList.add(String(t)),n}},t.append__BANG=function(t){return A(1/0,t)},t.create=function(t,n,r){var e;r=Array.prototype.slice.call(arguments,2);return e=document.createElement(t),Object.entries(n).forEach((function(t){var n=t[0],r=t[1];return function(){return"class"===n?e.className=r:"style"===n?Object.entries(r).forEach((function(t){var n=t[0],r=t[1];return e.style[n]=r})):"for"===n?e.htmlFor=r:e[n]=r}.call(this)})),r.forEach((function(t){return function(){return"string"==typeof t||null!=t&&t instanceof Node?"string"==typeof t?e.appendChild(document.createTextNode(t)):e.appendChild(t):t}.call(this)})),e},t.empty=function(){return E.empty()},t.fireEvent=function(t,n){return function(r){return r.dispatchEvent(O(t,n)),r}},t.getChild=function(t){return function(n){return r=n.querySelector(t),E.lift(r);var r}},t.getChilds=function(t){return function(n){return function(t){return E.lift.apply(this,t)}(Array.from(n.querySelectorAll(t)))}},t.getCss=function(t){return function(n){return function(r,e){return t.forEach((function(t){return function(n){return function(){return null!=n?(e[t]=n,matches+=1):r.push(t)}.call(this)}(n.style[t])})),function(){if(0<r.length)return t=getComputedStyle(n,null),r.forEach((function(n){return e[n]=t.getPropertyValue(j(n))}));var t}.call(this),e}([],Object.create(null))}},t.getData=function(t){var n;t=Array.prototype.slice.call(arguments,0);return n={},function(r){return t.forEach((function(t){return n[t]=r.dataset[t]})),n}},t.getDoc=d,t.getDocBody=function(){return d().map((function(){return arguments[0].querySelector("body")}))},t.getDocHead=function(){return d().map((function(){return arguments[0].querySelector("head")}))},t.getDocRoot=b,t.getDocScrollEl=function(){return d().map((function(t){return t.scrollingElement||b()}))},t.getHtml=function(t){return _("innerHTML")(t)},t.getInnerSize=function(t){return N("clientWidth","clientHeight")(t)},t.getNext=function(t){return function(n){return function(){return"string"!=typeof t?null!=(r=n.nextElementSibling)?E.lift(r):E.empty():function(n){return null!=n&&n.matches(t)?E.lift(n):null==n||Number.isNaN(n)?E.empty():function(){return function(t,n){n=Array.prototype.slice.call(arguments,1);for(var r=t.apply(null,n);"function"==typeof r&&r.__sibilispRecur__;)r=r();return r}((function n(r){return null==r||Number.isNaN(r)?E.empty():r.matches(t)?E.lift(r):function(){return Object.defineProperties((function(){return n(r.nextElementSibling)}),{__sibilispRecur__:{enumerable:!0,writable:!1,configurable:!1,value:!0}})}.call(this)}),n.nextElementSibling)}.call(this)}(n.nextElementSibling);var r}.call(this)}},t.getOuterSize=function(t){return N("offsetWidth","offsetHeight")(t)},t.getParent=function(t){return function(n){return function(){return"string"!=typeof t?null!=(r=n.parentNode)?E.lift(r):E.empty():function(n){return null!=n&&n.matches(t)?E.lift(n):null==n||Number.isNaN(n)?E.empty():function(){return function(t,n){n=Array.prototype.slice.call(arguments,1);for(var r=t.apply(null,n);"function"==typeof r&&r.__sibilispRecur__;)r=r();return r}((function n(r){return null==r||Number.isNaN(r)?E.empty():r.matches(t)?E.lift(r):function(){return Object.defineProperties((function(){return n(r.parentNode)}),{__sibilispRecur__:{enumerable:!0,writable:!1,configurable:!1,value:!0}})}.call(this)}),n.parentNode)}.call(this)}(n.parentNode);var r}.call(this)}},t.getPrevious=function(t){return function(n){return function(){return"string"!=typeof t?null!=(r=n.previousElementSibling)?E.lift(r):E.empty():function(n){return null!=n&&n.matches(t)?E.lift(n):null==n||Number.isNaN(n)?E.empty():function(){return function(t,n){n=Array.prototype.slice.call(arguments,1);for(var r=t.apply(null,n);"function"==typeof r&&r.__sibilispRecur__;)r=r();return r}((function n(r){return null==r||Number.isNaN(r)?E.empty():r.matches(t)?E.lift(r):function(){return Object.defineProperties((function(){return n(r.previousElementSibling)}),{__sibilispRecur__:{enumerable:!0,writable:!1,configurable:!1,value:!0}})}.call(this)}),n.previousElementSibling)}.call(this)}(n.previousElementSibling);var r}.call(this)}},t.getProp=_,t.getRect=function(t){var n;t=Array.prototype.slice.call(arguments,0);return n=t.length>0?t:null,function(t){return r=t.getBoundingClientRect(),n?n.reduce((function(t,n){return function(){return n in r?(t[n]=r[n],t):t}.call(this)}),Object.create(null)):r;var r}},t.getScrollSize=function(t){return N("scrollWidth","scrollHeight")(t)},t.getSize=N,t.getText=function(t){return _("textContent")(t)},t.getValue=function(t){return t.value},t.getWin=function(){return E.of(window)},t.hasClass__QUERY=function(t){return function(n){return n.classList.contains(String(t))}},t.insertAt__BANG=A,t.lift=function(t){t=Array.prototype.slice.call(arguments,0);return E.lift.apply(this,t)},t.of=function(t){t=Array.prototype.slice.call(arguments,0);return E.of.apply(this,t)},t.offEvent=function(t,n,r){return r=void 0!==r&&r,function(e){return e.removeEventListener(t,n,r),e}},t.onEvent=function(t,n,r){return r=void 0!==r&&r,function(e){return e.addEventListener(t,n,r),e}},t.prepend__BANG=function(t){return A(0,t)},t.removeClass__BANG=function(t){return function(n){return n.classList.remove(String(t)),n}},t.setCss__BANG=function(t){return function(n){return t.forEach((function(t){var r=t[0],e=t[1];return n.style[r]=e})),n}},t.setData__BANG=function(t){var n;t=Array.prototype.slice.call(arguments,0);return n=a(t,2),function(t){return n.forEach((function(n){var r=n[0],e=n[1];return t.dataset[r]=String(e)})),t}},t.setHtml__BANG=function(t){return setProp("innerHTML",String(t))},t.setProp__BANG=function(t,n){return function(){if("string"!=typeof t)return function(){throw new Error("(dom::set-prop)"+v+"string, got "+u(t))}.call(this)}.call(this),function(r){return r[t]=!1===n||null==n||Number.isNaN(n)?null:n,r}},t.setText__BANG=function(t){return setProp("textContent",String(t))},t.setValue__BANG=function(t){return function(n){return function(r,e){return function(){return"textarea"===r?(n.textContent=String(t),n):"select"===r?(o=Array.from(n.querySelectorAll("option")),u=String(t),o.forEach((function(t){return t.selected=u===t.value||null})),n):"input"!==r?n:"radio"===e?function(){var r=n.name;return Array.from(document.querySelectorAll('[name="',r,'"]')).forEach((function(n){return n.checked=t===n.value||null})),n}.call(this):(n.value=t,n);var o,u}.call(this)}(n.nodeName.toLowerCase(),n.type.toLowerCase())}},t.toggleClass__BANG=function(t,n){return function(r){return r.classList.toggle(String(t),n),r}},Object.defineProperty(t,"__esModule",{value:!0})}));
